generator client {
  provider = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

generator docs {
  provider = "node node_modules/prisma-docs-generator"
}

generator dbml {
  provider = "prisma-dbml-generator"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Customer_profile {
  id          Int         @id @default(autoincrement())
  name        String
  phone       String      @unique
  email       String      @unique
  password    String
}

model Order_details {
  id          Int         @id @default(autoincrement())
  date        DateTime    @db.Date
  time        DateTime    @db.Time()
  adress      String
  sub_distric String
  distric     String
  provice     String
  additional  String?
}

model Services {
  id            Int         @id @default(autoincrement())
  service_name  String
  category_id   Int
  category      Categories   @relation(fields: [category_id], references: [id], onUpdate: Cascade, onDelete: Cascade)
  sub_services  Sub_services[]
  pic_service   String
  createAt      DateTime    @default(now()) 
  updateAt      DateTime    @updatedAt
}

model Categories {
  id              Int         @id @default(autoincrement())
  services        Services[]
  category_name   String
  createAt        DateTime    @default(now()) 
  updateAt        DateTime    @updatedAt 
}

model Sub_services {
  id              Int        @id @default(autoincrement())
  service_id      Int
  services        Services   @relation(fields: [service_id], references: [id], onUpdate: Cascade)
  sub_service_name  String
  price_per_unit  Int
  unit            String
}